# SonarQube Helm Chart Values
community:
  enabled: true

# Monitoring passcode (required by SonarQube)
monitoringPasscode: "sonarqube-monitoring-passcode-12345"

# Replication
replicaCount: 1

# Image configuration
image:
  repository: sonarqube
  tag: "10.0.0-community"
  pullPolicy: IfNotPresent

# Service configuration
service:
  type: ClusterIP
  port: 9000

# Resource limits
resources:
  requests:
    cpu: 500m
    memory: 2Gi
  limits:
    cpu: 1000m
    memory: 4Gi

# Persistence - Use gp3 StorageClass (EBS CSI Driver)
persistence:
  enabled: true
  size: 20Gi
  storageClassName: gp3

# Database configuration (using embedded H2 for single instance)
postgresql:
  enabled: false

# JDBC configuration for external DB (optional)
jdbcOverwrite:
  enable: false

# Ingress
ingress:
  enabled: false

# Init containers - disable sysctl init (requires privileged)
initSysctl:
  enabled: false

initFs:
  enabled: true

# Security context - allow init containers to run
securityContext:
  fsGroup: 1000

containerSecurityContext:
  runAsUser: 1000
  runAsGroup: 1000

# Additional plugins can be added here
plugins:
  install: []
